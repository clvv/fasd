.TH FASD 1 "Feb 11, 2012" "fasd user manual"
.SH NAME
.PP
fasd - quick access to files and directories
.SH SYNOPSIS
.PP
fasd [options] [query \&...]
.PP
[f|a|s|d|z] [options] [query \&...]
.SH OPTIONS
.IP
.nf
\f[C]
-s\ \ \ \ \ \ \ \ show\ list\ of\ files\ with\ their\ ranks
-l\ \ \ \ \ \ \ \ list\ paths\ only
-i\ \ \ \ \ \ \ \ interactive\ mode
-e\ <cmd>\ \ set\ command\ to\ execute\ on\ the\ result\ file
-b\ <name>\ only\ use\ <name>\ backend
-B\ <name>\ add\ addition\ backend\ <name>
-a\ \ \ \ \ \ \ \ match\ files\ and\ directories
-d\ \ \ \ \ \ \ \ match\ directories\ only
-f\ \ \ \ \ \ \ \ match\ files\ only
-r\ \ \ \ \ \ \ \ match\ by\ rank\ only
-t\ \ \ \ \ \ \ \ match\ by\ recent\ access\ only
-h\ \ \ \ \ \ \ \ show\ a\ brief\ help\ message
\f[]
.fi
.SH DESCRIPTION
.PP
Fasd keeps track of files and directories you access in your shell and
gives you quick access to them.
You can use fasd to reference files or directories by just a few key
identifying characters.
You can use fasd to boost your command line productivity by defining
your own aliases to launch programs on files or directories.
Fasd, by default, provides some basic aliases, including a shell
function \[lq]z\[rq] that resembles the functionality of \[lq]z\[rq] and
\[lq]autojump.\[rq]
.PP
The name \[lq]fasd\[rq] comes from the default suggested aliases
\f[C]fasd\f[](files), \f[C]a\f[](files/directories),
\f[C]s\f[](show/search/select), \f[C]d\f[](directories).
.PP
Fasd ranks files and directories by \[lq]frecency,\[rq] that is, by both
\[lq]frequency\[rq] and \[lq]recency.\[rq] The term \[lq]frecency\[rq]
was first coined by Mozilla and used in Firefox.
.PP
Fasd uses Bayesian Inference and Bayesian Ranking to rank files and
directories for a set of given matching patterns.
\[lq]Frecency\[rq] is used as the prior probability distribution, and a
simple algorithm is used to calculate the likelihood of the given set of
patterns.
.SH EXAMPLES
.IP
.nf
\f[C]
z\ bundle
f\ -e\ vim\ nginx\ conf
vi\ `f\ nginx\ conf`
cp\ update.html\ `d\ www`
open\ `sf\ pdf`
\f[]
.fi
.SH SHELL INITIALIZATION
.PP
To get fasd working in a shell, some initialization code must be run.
Put lines below in your POSIX compatible shell rc.
.IP
.nf
\f[C]
eval\ "$(fasd\ --init\ auto)"
\f[]
.fi
.PP
These will setup a command hook that executes on every command and
advanced tab completion for zsh and bash.
.PP
If you want more control over what gets into your shell environment, you
can pass customized set of arguments to \f[C]fasd\ --init\f[].
.IP
.nf
\f[C]
zsh-hook\ \ \ \ \ \ \ \ \ \ \ \ \ #\ define\ _fasd_preexec\ and\ add\ it\ to\ zsh\ preexec\ array
zsh-ccomp\ \ \ \ \ \ \ \ \ \ \ \ #\ zsh\ command\ mode\ completion\ definitions
zsh-ccomp-install\ \ \ \ #\ setup\ command\ mode\ completion\ for\ zsh
zsh-wcomp\ \ \ \ \ \ \ \ \ \ \ \ #\ zsh\ word\ mode\ completion\ definitions
zsh-wcomp-install\ \ \ \ #\ setup\ word\ mode\ completioin\ for\ zsh
bash-hook\ \ \ \ \ \ \ \ \ \ \ \ #\ add\ hook\ code\ to\ bash\ $PROMPT_COMMAND
bash-ccomp\ \ \ \ \ \ \ \ \ \ \ #\ bash\ command\ mode\ completion\ definitions
bash-ccomp-install\ \ \ #\ setup\ command\ mode\ completion\ for\ bash
bash-wcomp\ \ \ \ \ \ \ \ \ \ \ #\ bash\ word\ mode\ completion\ definitions\ (experimental)
bash-wcomp-install\ \ \ #\ setup\ word\ mode\ completion\ for\ bash\ (experimental)
posix-alias\ \ \ \ \ \ \ \ \ \ #\ define\ alias\ that\ applies\ to\ all\ posix\ shells
posix-hook\ \ \ \ \ \ \ \ \ \ \ #\ setup\ $PS1\ hook\ for\ shells\ that\[aq]s\ posix\ compatible
\f[]
.fi
.PP
Example for a minimal zsh setup (no tab completion):
.IP
.nf
\f[C]
eval\ "$(fasd\ --init\ posix-alias\ zsh-hook)"
\f[]
.fi
.PP
Optionally, if you can also source \f[C]fasd\f[] if you want
\f[C]fasd\f[] to be a shell function instead of an executable.
.SH COMPATIBILITY
.PP
Fasd's basic functionalities are POSIX compliant, meaning that you
should be able to use fasd in all POSIX compliant shells.
Your shell need to support command substitution in $PS1 in order for
fasd to automatically track your commands and files.
This feature is not specified by the POSIX standard, but it's
nonetheless present in many POSIX compliant shells.
.SH TAB COMPLETION
.PP
Fasd offers two completion modes, command mode completion and word mode
completion.
.PP
Command mode completion is just like completion for any other commands.
It is triggered when you hit tab on a fasd command or its aliases.
Under this mode your queries can be separated by a space.
Tip: if you find that the completion result overwrites your queries,
type an extra space before you hit tab.
.PP
Word mode completion can be triggered on \f[I]any\f[] command.
This can be a powerful feature if you make good use of it.
Word completion is triggered by any command line argument that starts
with \[lq],\[rq](a comma).
Example:
.IP
.nf
\f[C]
$\ vim\ ,rc,lo<Tab>
$\ vim\ /etc/rc.local
\f[]
.fi
.PP
If you use zsh, word completion is enabled by default.
There are also three zle widgets: \[lq]fasd-complete\[rq],
\[lq]fasd-complete-f\[rq], \[lq]fasd-complete-d\[rq].
You can bind them to keybindings you like:
.IP
.nf
\f[C]
bindkey\ \[aq]^X^A\[aq]\ fasd-complete\ \ \ \ #\ C-x\ C-a\ to\ do\ fasd-complete\ (fils\ and\ directories)
bindkey\ \[aq]^X^F\[aq]\ fasd-complete-f\ \ #\ C-x\ C-f\ to\ do\ fasd-cmplete-f\ (only\ files)
bindkey\ \[aq]^X^D\[aq]\ fasd-complete-d\ \ #\ C-x\ C-d\ to\ do\ fasd-complete-d\ (only\ directories)
\f[]
.fi
.PP
If you use bash, you can turn on this experimental feature by executing
\f[C]eval\ "$(fasd\ --init\ bash-wcomp\ bash-wcomp-install)"\f[] after
sourcing \f[C]fasd\f[] and after any bash completion setup.
This will alter your existing completion setup, so you might get a
\f[I]broken\f[] completion system.
.SH BACKENDS
.PP
Fasd can take advantage of different sources of recent / frequent files.
Most desktop environments (like Gtk) and some editors (like Vim) keep a
list of accessed files.
Fasd can use them as additional backends if the data can be converted
into fasd's native format.
As of now, fasd supports Gtk's \f[C]recently-used.xbel\f[] and Vim's
\f[C]viminfo\f[] backends.
You can define your own backend by declaring a function by that name in
your \f[C].fasdrc\f[].
You set default backend with \f[C]_FASD_BACKENDS\f[] variable in our
\f[C].fasdrc\f[].
.SH TWEAKS
.PP
Upon every execution, fasd will source \[lq]/etc/fasdrc\[rq] and
\[lq]$HOME/.fasdrc\[rq] if they are present.
Below are some variables you can set:
.IP
.nf
\f[C]
$_FASD_DATA
Path\ to\ the\ f\ data\ file,\ default\ "$HOME/.fasd".

$_FASD_BLACKLIST
List\ of\ blacklisted\ strings.\ Commands\ matching\ them\ will\ not\ be\ processed.
Default\ is\ "--help".

$_FASD_SHIFT
List\ of\ all\ commands\ that\ needs\ to\ be\ shifted,\ defaults\ to\ "sudo\ busybox".

$_FASD_IGNORE
List\ of\ all\ commands\ that\ will\ be\ ignored,\ defaults\ to\ "fasd\ cd\ ls\ echo".

$_FASD_TRACK_PWD
f\ defaults\ to\ track\ your\ "$PWD".\ Set\ this\ to\ 0\ to\ disable\ this\ behavior.

$_FASD_AWK
Which\ awk\ to\ use.\ fasd\ can\ detect\ and\ use\ a\ compatible\ awk.

$_FASD_SINK
File\ to\ log\ all\ STDERR\ to,\ defaults\ to\ "/dev/null".

$_FASD_MAX
Max\ total\ score\ /\ weight,\ defaults\ to\ 2000.

$_FASD_SHELL
Which\ shell\ to\ execute.\ Some\ shells\ will\ run\ faster\ than\ others.\ fasd
is\ faster\ with\ ksh\ variants.

$_FASD_BACKENDS
Default\ backends.
\f[]
.fi
.SH DEBUGGING
.PP
Fasd is hosted on GitHub: https://github.com/clvv/fasd
.PP
If fasd does not work as expected, please file a bug report on GitHub
describing the unexpected behavior along with your OS version, shell
version, awk version, sed version, and a log file.
.PP
You can set \f[C]_FASD_SINK\f[] in your \f[C].fasdrc\f[] to obtain a
log.
.IP
.nf
\f[C]
_FASD_SINK="$HOME/.fasd.log"
\f[]
.fi
.SH AUTHORS
Wei Dai <x@wei23.net>.
